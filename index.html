<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cover Undangan – Millenia & Fasya</title>
  
  <!-- Quicksand via Google Fonts for teks lain -->
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- Javasoul font: siapkan file font Anda sendiri.
       1) Taruh file font di /fonts/Javasoul.ttf (atau .otf) di folder yang sama dengan file HTML ini.
       2) Jika Anda punya CDN sendiri, ganti src: url(...) di bawah. -->
  <style>
    @font-face {
      font-family: 'Javasoul';
      src: url('./fonts/Javasoul.ttf') format('truetype');
      font-display: swap;
    }

    :root{
      --bg-img: url('https://i.imgur.com/10l2EGB.jpg'); /* Foto latar elegan & minimalis */
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: 'Quicksand', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: #111;
      background: #000;
    }

    .cover {
      position: relative;
      min-height: 100dvh;
      display: grid;
      place-items: center;
      padding: 24px;
      background-image: var(--bg-img);
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      isolation: isolate;
    }

    /* Overlay halus agar teks kontras namun tetap elegan */
    .cover::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(180deg, rgba(0,0,0,.45), rgba(0,0,0,.35));
      z-index: -1;
    }

    .card {
      width: min(720px, 100%);
      background: rgba(255,255,255,0.72);
      backdrop-filter: blur(6px);
      -webkit-backdrop-filter: blur(6px);
      border-radius: 24px;
      padding: clamp(20px, 4vw, 40px);
      box-shadow: 0 10px 30px rgba(0,0,0,.20);
      text-align: center;
    }

    .pill {
      display: inline-block;
      font-size: 14px;
      line-height: 1;
      padding: 10px 14px;
      border-radius: 999px;
      background: rgba(0,0,0,.06);
      color: #333;
      letter-spacing: .2px;
      margin-bottom: 14px;
    }

    .guest {
      font-weight: 700;
      font-size: clamp(18px, 4.2vw, 26px);
      margin: 0 0 6px 0;
      color: #222;
    }

    .and {
      margin: 10px 0 6px;
      font-size: 14px;
      text-transform: uppercase;
      letter-spacing: 3px;
      color: #444;
    }

    .couple {
      font-family: 'Javasoul', 'Times New Roman', serif; /* Font nama mempelai Javasoul */
      font-size: clamp(42px, 9vw, 80px);
      line-height: .95;
      margin: 6px 0 18px;
      color: #111;
      text-shadow: 0 1px 0 rgba(255,255,255,.35);
    }

    .cta {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      justify-content: center;
      margin-top: 8px;
    }

    .btn {
      appearance: none;
      border: none;
      cursor: pointer;
      padding: 12px 18px;
      border-radius: 14px;
      font-weight: 700;
      letter-spacing: .3px;
      transition: transform .06s ease, box-shadow .2s ease, background .2s ease;
    }

    .btn-primary {
      background: #111;
      color: #fff;
      box-shadow: 0 6px 16px rgba(0,0,0,.25);
    }
    .btn-primary:hover{ transform: translateY(-1px); }

    .btn-ghost {
      background: rgba(0,0,0,.06);
      color: #222;
    }
    .btn-ghost:hover{ background: rgba(0,0,0,.10); }

    .sub {
      margin-top: 14px;
      font-size: 12px;
      color: #555;
    }

    /* Responsif kecil */
    @media (max-width: 420px){
      .card{ padding: 18px; }
    }
  </style>
</head>
<body>
  <main class="cover">
    <section class="card" role="region" aria-label="Cover Undangan">
      <div class="pill" aria-hidden="true">Undangan Untuk</div>
      <h1 class="guest" id="guestName">Tamu Undangan</h1>

      <div class="and" aria-hidden="true">Dari</div>
      <h2 class="couple" aria-label="Nama Mempelai">Millenia &amp; Fasya</h2>

      <div class="cta">
        <a id="openInvite" class="btn btn-primary" href="#" rel="noopener">Buka Undangan</a>
        <button class="btn btn-ghost" id="copyLink" type="button">Salin Link</button>
      </div>
      <p class="sub">Nama tamu otomatis diambil dari URL. Ubah segmen terakhir URL atau tambahkan <code>?to=Nama%20Tamu</code>.</p>
    </section>
  </main>

  <script>
    // ====== KONFIGURASI ======
    // Ganti ini dengan link undangan digital universal Anda (mis. halaman utama undangan).
    // Script akan menambahkan parameter ?to=NamaTamu secara otomatis.
    const https://kesanastudio.my.canva.site/millionstepswithfasya = 'https://kesanastudio.my.canva.site/millionstepswithfasya'; // TODO: ubah ke link undangan Anda

    // ====== UTIL ======
    function titleCase(str){
      return str
        .replace(/[\-_]+/g, ' ') // ganti - atau _ menjadi spasi
        .replace(/\s+/g, ' ')
        .trim()
        .toLowerCase()
        .replace(/\b([\p{L}'])[\p{L}]*/gu, (w) => w.charAt(0).toUpperCase() + w.slice(1));
    }

    function getGuestFromURL(){
      const params = new URLSearchParams(window.location.search);
      const q = params.get('to');
      if (q) return decodeURIComponent(q);

      // Ambil dari segmen path terakhir, mis: domain.com/undangan/Nama-Tamu
      const path = window.location.pathname.replace(/\/$/, '');
      const last = path.split('/').filter(Boolean).pop();
      if (last && !/index\.(html?|php|asp|aspx)$/i.test(last)) return decodeURIComponent(last);

      // (Opsional) Ambil dari subdomain, mis: namatamu.domain.com
      const host = window.location.hostname;
      const parts = host.split('.');
      if (parts.length > 2) {
        const sub = parts[0];
        if (sub && !/(www|m|app)/i.test(sub)) return decodeURIComponent(sub);
      }

      return 'Tamu Undangan';
    }

    function buildInviteURL(base, guest){
      const url = new URL(base);
      url.searchParams.set('to', guest);
      return url.toString();
    }

    // ====== INISIALISASI ======
    const guestRaw = getGuestFromURL();
    const guestPretty = titleCase(guestRaw);

    const elGuest = document.getElementById('guestName');
    const elOpen = document.getElementById('openInvite');
    const elCopy = document.getElementById('copyLink');

    elGuest.textContent = guestPretty;

    const inviteURL = buildInviteURL(UNIVERSAL_INVITE_URL, encodeURIComponent(guestPretty));
    elOpen.href = inviteURL;

    elCopy.addEventListener('click', async () => {
      try{
        await navigator.clipboard.writeText(inviteURL);
        elCopy.textContent = 'Tersalin ✔';
        setTimeout(() => elCopy.textContent = 'Salin Link', 1600);
      }catch(e){
        // Fallback sederhana
        prompt('Salin link undangan berikut:', inviteURL);
      }
    });
  </script>
</body>
</html>
